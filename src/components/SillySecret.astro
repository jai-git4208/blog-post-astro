---
---

<div id="silly-cat" class="silly-cat" title="Catch me!">
  :3
</div>

<style>
  .silly-cat {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    font-size: 2.5rem;
    cursor: pointer;
    z-index: 1000;
    user-select: none;
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-10px) rotate(10deg); }
  }

  .silly-cat.celebrate {
    animation: bounce 0.5s ease infinite;
    font-size: 4rem;
  }

  @keyframes bounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.5); }
  }

  .confetti {
    position: fixed;
    pointer-events: none;
    z-index: 999;
    font-size: 1.5rem;
    animation: fall 1.5s linear forwards;
  }

  @keyframes fall {
    to {
      transform: translateY(100vh) rotate(360deg);
      opacity: 0;
    }
  }
</style>

<script>
  function setupSillyCat() {
    const cat = document.getElementById('silly-cat');
    if (!cat) return;

    let isShy = true;

    const moveCat = () => {
      if (!isShy) return;
      const x = Math.random() * (window.innerWidth - 100);
      const y = Math.random() * (window.innerHeight - 100);
      cat.style.left = `${x}px`;
      cat.style.top = `${y}px`;
      cat.style.bottom = 'auto';
      cat.style.right = 'auto';
    };

    cat.addEventListener('mouseenter', () => {
      if (isShy) {
        moveCat();
      }
    });

    cat.addEventListener('click', () => {
      isShy = false;
      cat.classList.add('celebrate');
      cat.innerText = 'üò∏';
      
      // Spawn confetti
      for (let i = 0; i < 20; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.innerText = ['‚ú®', 'üêæ', 'üêü', 'üß∂'][Math.floor(Math.random() * 4)];
        confetti.style.left = `${cat.offsetLeft + 20}px`;
        confetti.style.top = `${cat.offsetTop + 20}px`;
        confetti.style.setProperty('--x', `${(Math.random() - 0.5) * 200}px`);
        document.body.appendChild(confetti);
        
        setTimeout(() => confetti.remove(), 1500);
      }

      setTimeout(() => {
        cat.classList.remove('celebrate');
        cat.innerText = 'üê±';
        isShy = true;
      }, 3000);
    });
  }

  // Initial setup
  setupSillyCat();
  // Setup after view transitions
  document.addEventListener('astro:after-swap', setupSillyCat);
</script>
